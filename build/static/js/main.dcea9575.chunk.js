(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{42:function(e,n,t){e.exports=t.p+"static/media/placeholder-user.adc3e83e.png"},46:function(e,n,t){e.exports=t(76)},51:function(e,n,t){},60:function(e,n,t){},62:function(e,n,t){},64:function(e,n,t){},67:function(e,n,t){},76:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(37),o=t.n(l),c=(t(51),t(82)),i=t(83),u=t(84),s=t(9),m=t(44),v=t(80),d=(t(60),function(e){var n=e.children;return r.a.createElement("div",{className:"layout"},r.a.createElement("nav",{className:"navigation"},r.a.createElement(v.a,{className:"navigation__link",to:"/"}," Home "),"|",r.a.createElement(v.a,{className:"navigation__link",to:"/new"}," New User ")),n)}),E=t(18),f=t(8),g=t.n(f);t(62);function p(){var e=Object(E.a)(["\n      query {\n        Users {\n          ID\n          Login\n          AvatarURL\n        }\n      }\n    "]);return p=function(){return e},e}var U=function(){return r.a.createElement(s.Query,{query:g()(p())},function(e){var n=e.loading,t=e.error,a=e.data;return n?r.a.createElement("p",null,"Loading..."):t?r.a.createElement("p",null,"Error :("):r.a.createElement("ul",{className:"users",key:"Users"},a.Users.map(function(e){var n=e.ID,t=e.Login;return r.a.createElement("li",{className:"users__item",key:n},r.a.createElement(v.a,{className:"users__item-link",to:"/user/".concat(n)},t||"Incognoito"))}))})},w=t(81),b=t(42),_=t.n(b);t(64);function h(){var e=Object(E.a)(['\n      query {\n        User(id: "','") {\n          ID\n          Login\n          AvatarURL\n        }\n      }\n   ']);return h=function(){return e},e}function N(){var e=Object(E.a)(["\n  mutation deleteUser($id: ID!){\n    DeleteUser(id: $id) {\n      ID\n    }\n  }\n"]);return N=function(){return e},e}var y=g()(N()),D=function(e){return r.a.createElement(s.Query,{query:g()(h(),e.match.params.userId),fetchPolicy:"network-only"},function(e){var n=e.loading,t=e.error,a=e.data;if(n)return r.a.createElement("p",null,"Loading...");if(t)return r.a.createElement("p",null,"Error :(");var l=a.User.AvatarURL;return l||(l=_.a),r.a.createElement("div",{className:"user"},r.a.createElement("img",{className:"user__avatar",src:l,alt:"Avatar"}),r.a.createElement("div",{className:"user__login"},a.User.Login),r.a.createElement("br",null),r.a.createElement(s.Mutation,{mutation:y},function(e,n){var t=n.loading,l=(n.error,n.data);return l&&l.DeleteUser&&l.DeleteUser.ID?r.a.createElement(w.a,{to:"/"}):r.a.createElement("button",{className:"user__delete-button",onClick:function(){return e({variables:{id:a.User.ID}})},disabled:t},t?"Deleting...":"Delete")}))})};t(67);function L(){var e=Object(E.a)(["\n      mutation createUser($login: String!, $avatarURL: String){\n        CreateUser(input: {Login: $login, AvatarURL: $avatarURL}) {\n          ID\n        }\n      }\n    "]);return L=function(){return e},e}var I=function(){return r.a.createElement(s.Mutation,{mutation:g()(L())},function(e,n){var t,a,l=n.loading,o=n.error,c=n.data;return c&&c.CreateUser&&c.CreateUser.ID?r.a.createElement(w.a,{to:"/user/".concat(c.CreateUser.ID)}):r.a.createElement("form",{className:"new-user",onSubmit:function(n){n.preventDefault(),e({variables:{login:t.value,avatarURL:a.value}})}},r.a.createElement("div",{className:"new-user__title"},"New User"),r.a.createElement("label",{className:"new-user__label"},"Login:"),r.a.createElement("input",{type:"text",ref:function(e){return t=e}}),r.a.createElement("br",null),r.a.createElement("label",{className:"new-user__label"},"Avatar URL:"),r.a.createElement("input",{type:"text",ref:function(e){return a=e}}),r.a.createElement("br",null),r.a.createElement("button",{className:"new-user__create-button",type:"submit",disabled:l},l?"Creating...":"Create new User"),o?"Something is wrong...":"")})},k=new m.a({uri:"https://c3interview.danshin.pro/graphql"}),R=function(){return r.a.createElement(s.ApolloProvider,{client:k},r.a.createElement(c.a,null,r.a.createElement(d,null,r.a.createElement(i.a,null,r.a.createElement(u.a,{exact:!0,path:"/",component:U}),r.a.createElement(u.a,{exact:!0,path:"/user/:userId",component:D}),r.a.createElement(u.a,{exact:!0,path:"/new",component:I})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[46,2,1]]]);
//# sourceMappingURL=main.dcea9575.chunk.js.map